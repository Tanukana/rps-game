<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Tanukana RSP Game</title>
  </head>
  <body>
    <script src="script.js">
    // prompting for player choice and assigning choices
        var choice = prompt('Rock, Paper, or Scissor?: ');
        var cpuSelect = computerPlay();
        var plyrSelect = lowerCaseAns(choice);
    // Score tracker
        var win = 0;
        var lose = 0;
        var round = 0;

    // Repeating prompt and outcome
        function repeat() {
          for(i = 1; i <= 4; i++) {
          playAgain();
          }
    }
    // replay function of entire game
        function playAgain() {
          var choice2 = prompt('Rock, Paper, or Scissor?: ');
          var newCpuSelect = computerPlay();
          var lwrCaseChoice = lowerCaseAns(choice2);
          if(lwrCaseChoice === 'rock' || lwrCaseChoice === 'paper' || lwrCaseChoice === 'scissor') {
            console.log(game(lwrCaseChoice, newCpuSelect));
        } else {
            alert(' Please enter a valid option! ');
        }
    }

    // converting player input to lower case for case sensitivity in input
        function lowerCaseAns(x) {
            var converter = x.toLowerCase();
            return converter;
    }

    // Randomly generate a number between 1-3 and assigning options to each
        function computerPlay() {
            var randomNum = Math.floor((Math.random() * 3) + 1);
            if(randomNum === 1) {
                return 'rock';
            } else if (randomNum === 2) {
                return 'paper';
            } 
                return 'scissor';
    }

    // Game mechanics and outcomes
        function game(plyrSelect, cpuSelect) {
            if(plyrSelect === cpuSelect) {
                round += 1;
                return `${round}/5 | W:${win} L${lose} - It\'s a tie!`;
            } else if(plyrSelect === 'rock' && cpuSelect === 'paper') {
                round += 1;
                lose += 1;
                return `${round}/5 | W:${win} L${lose} - You lose! ${cpuSelect} beats ${plyrSelect}!`;
            } else if(plyrSelect === 'paper' && cpuSelect === 'scissor') {
                round += 1;
                lose += 1;
                return `${round}/5 | W:${win} L${lose} - You lose! ${cpuSelect} beats ${plyrSelect}!`;
            } else if(plyrSelect === 'scissor' && cpuSelect === 'rock') {
                round += 1;
                lose += 1;
                return `${round}/5 | W:${win} L${lose} - You lose! ${cpuSelect} beats ${plyrSelect}!`;
            } else {
                round += 1;
                win += 1;
                return `${round}/5 | W:${win} L${lose} - You win! ${plyrSelect} beats ${cpuSelect}!`;
            }
    }
    // Checking first prompt input
        if(choice === 'rock' || choice === 'paper' || choice === 'scissor') {
                console.log(game(choice, cpuSelect));
                repeat();
            } else {
                alert(' Please enter a valid option! ');
    }

    </script>
  </body>
</html>